# 요약
- 인터넷이란 많은 종단 시스템을 연결하는 거대한 네트워크이다. 
- 그리고 각 분산 애플리케이션들이 서로 데이터를 주고받을 수 있도록 연결하는 플랫폼 역할을 한다. 
- 네트워크 통신을 위한 다양한 프로토콜이 무엇이고 왜 필요하며 어떻게 운영되는지 이해해보자!

# 1. Computer Networks and the Internet
이 책은 TCP/IP 계층에 따라 하향식 접근으로 목차를 구분한다.

- 응용 계층 -> 2장
- 전송 계층 -> 3장
- 네트워크 계층 -> 4,5장
- 데이터 링크 계층 -> 6장

순서대로 학습하는 것을 추천한다. 7,8장은 선택적으로 학습한다.

---
## 1.1 인터넷이란?
인터넷이란 무엇인가?
- 인터넷을 구성하는 기본적인 하드웨어와 소프트웨어 구성 요소를 살펴봄
- 분산 어플리케이션에 서비스를 제공하는 네트워킹 인프라스트럭처 관점으로 살펴봄
### 구성요소로 본 인터넷
- 종단 시스템 ~ 네트워크(ISP) ~ 종단 시스템

인터넷은 수십억 개의 컴퓨팅 장치를 연결하는 거대한 네트워크이다. 인터넷에 연결된 모든 장치는 호스트 혹은 종단 시스템이라고 부른다. 각 종단 시스템은 통신 링크와 패킷 스위치로 연결된다.(1.2 절 참고)

네트워크 상에서 데이터는 패킷이라는 단위로 전송된다. 송신 종단 시스템은 보내고자 하는 데이터를 세그먼트로 나누고, 각 세그먼트에 헤더를 붙여 패킷이라 불리는 정보 패키지를 만든다.
이러한 패킷은 네크워크를 통해 목적지 종단 시스템으로 보내지고 원래의 데이터로 다시 조립된다. 
패킷은 컴퓨터 네트워크를 통한 경로를 따라 이동한다. 이 때 교차로 역할을 하는 것이 패킷 스위치이다. 패킷 스위치에는 라우터와 링크 계층 스위치가 있다. 이들은 패킷을 입력받아 최종 목적지 방향으로 전달한다.
링크 계층 스위치는 보통 접속 네트워크에서 사용되고, 라우터는 네트워크 코어에서 사용된다.

종단 시스템은 ISP(Internet Service Provider)를 통해 인터넷에 접속한다. 각 ISP는 패킷 스위치와 통신 링크로 이루어진 네트워크이다.
ISP는 다양한 네트워크 접속(가정용, 이동 무선 접속, 고속 LAN 접속 등)을 제공한다.
하위 계층 ISP는 국가 그리고 국제 상위 계층 ISP를 통해 서로 연결되고 상위 계층 ISP들은 서로 직접 연결된다.
상위 계층 ISP는 광 링크로 연결된 고속 라우터로 구성된다. 상위 계층이든 하위 계층이든 각 ISP 네트워크는 따로 관리되고 IP 프로토콜을 수행하며 naming과 주소 배정 방식을 따른다.(1.3 절 참고)

인터넷의 구성요소(종단 시스템, 패킷 스위치)는 인터넷에서 정보 송수신을 제어하는 여러 프로토콜을 수행한다.
대표적으로 TCP(Transmission Control Protocol)/IP(Internet Protocol)가 있다.
IP는 라우터와 종단 시스템 사이에서 송수신되는 패킷 포맷을 기술한다.
그렇다면 프로토콜은 누가 정할까? 인터넷 표준은 IETF에서 개발하며 IETF 표준 문서를 RFC(requests for comment)라고 한다. 이들은 TCP, IP, HTTP(웹), SMTP(전자메일) 같은 프로토콜을 정의한다.
그리고 다른 기구들도 네트워크 링크에 관해 기술한다. 예를 들어 IEEE 802 LAN 표준위원회는 이더넷과 무선 와이파이 표준을 기술한다.

### 서비스 측면에서 본 인터넷
인터넷을 애플리케이션에 서비스를 제공하는 인프라스트럭처 관점에서 기술할 수 있다. 애플리케이션은 전자 메일, 웹 서핑 뿐만 아니라 음악 스트리밍, SNS 등을 말한다.
이러한 애플리케이션은 서로 데이터를 교환하는 많은 종단 시스템을 포함하고 있기 때문에 분산 애플리케이션이라고 부른다.
중요한 것은 인터넷 애플리케이션은 종단 시스템에서 수행된다(네트워크 코어에 있는 패킷 교환기에서 수행되지 않는다)는 점이다. 
패킷 교환기는 종단 시스템 간의 데이터 교환만 할 뿐 데이터의 시작과 끝인 애플리케이션에는 관심을 갖지 않는다.

애플리케이션은 종단 시스템에서 수행되는 프로그램이다. 우리는 분산 인터넷 애플리케이션을 개발하고 있기 때문에 다른 종단 시스템에서 수행되는 프로그램은 서로에게 데이터를 송신할 필요가 있다.
여기서 ==인터넷은 애플리케이션을 위한 플랫폼 역할==을 할 수 있다.

한 종단 시스템에서 수행되는 애플리케이션이 다른 종단 시스템에서 수행되고 있는 프로그램으로 데이터를 보내도록 인터넷에 어떻게 지시할 것인가?
각 종단 시스템들은 어떻게 데이터를 전달하도록 요구하는지를 명시하는 소켓 인터페이스(socket interface)를 제공한다.(2장 참고)

### 프로토콜이란?
어떤 일을 수행하려면 둘 이상의 통신 개체가 함께 인식하는 프로토콜이 필요하다. 두 사람이 대화할 때를 떠올려보자.
명확하게 송수신된 메시지와 이러한 메시지가 송수신될 때나 다른 상황이 발생했을 때 취하는 행동 등을 미리 약속으로 정하는 것이다.
즉 프로토콜은 둘 이상의 통신 개체 간에 교환되는 메시지 포맷과 순서뿐만 아니라, 메시지 송수신과 다른 이벤트에 따른 행동들을 정의한다.

물리적으로 연결된 두 컴퓨터의 네트워크 접속 카드에서 하드웨어로 구현된 프코토콜은 컴퓨터 사이에 연결된 '선로상'의 비트 흐름을 제어한다. 
예를 들어 종단 시스템에 있는 혼잡 제어 프로토콜은 송수신자 간에 전송되는 패킷 전송률을 조절한다.
라우터에서 프로토콜은 출발지에서 목적지까지 패킷 경로를 설정한다.

인터넷과 일반 컴퓨터 네트워크에는 다양한 프로토콜이 여러 가지 통신 목적으로 사용된다. 
컴퓨팅 네트워킹 분야의 전문가가 된다는 것은 네트워킹 프로토콜이 무엇이고 왜 필요하며 어떻게 운영되는지 잘 이해한다는 것과 같다.

---
## 1.2 Network Edge
이제 컴퓨터 네트워크의 구성 요소를 더 자세히 살펴보자.
### 1. 종단 시스템
인터넷에 연결된 장치들을 종단 시스템(=호스트)이라고 부른다. 호스트는 때때로 클라이언트와 서버로 구분된다.
비공식적으로 클라이언트는 PC, 스마트폰 등을 의미하고, 서버는 웹 페이지를 저장하고 분배하는 등 더 강력한 기능을 갖춘 컴퓨터다.
오늘날 많은 서버는 커다란 데이터 센터 내에 있다.

### 2. 접속 네트워크 Access Network
접속 네트워크는 서로 다른 종단 시스템을 연결하는 경로상에 있는 첫 번째 라우터(edge router라고도 함)에 연결된 네트워크이다.
edge router에 연결된 여러 종류의 접속 네트워크와 이들이 사용되는 환경(가정, 기업, 광역 이동 무선)을 살펴보자.
- 가정 접속 : DSL, 케이블, FTTH, 5G 고정 무선
  - DSL : 하나의 로컬 전화 회선을 주파수 분할 다중화를 통해 3개의 분리된 링크처럼 사용함
  - 케이블 인터넷 접속 : 케이블 TV 인프라를 이용, HFC 접속 네트워크, 공유 방송 매체이기 때문에 충돌 핸들링 필요
  - FTTH : 로컬 ISP로부터 가정까지 직접 광섬유 경로 제공(= Gbps 속도 가능), 광신호 분배기술(AON, PON)
  - 5G 고정 무선(5G-FW) : 빔포밍 기술을 사용하여 기지국에서 데이터를 무선으로 전송
- 기업 접속 : 이더넷과 와이파이
  - 이더넷 : LAN(local area network) 기술 중 하나, 꼬임쌍선으로 이더넷 스위치에 연결됨
  - 와이파이 : IEEE 802.11 기술에 기반한 무선 랜 접속
- 광역 무선 접속 : 3G와 LTE, 4G와 5G

### 3. 물리 매체
위의 네트워크 접속 기술에서 사용하는 물리 매체는 아래와 같다.
- HFC는 광섬유 케이블과 동축 케이블을 모두 이용 
- DSL과 이더넷은 구리선을 사용 
- 이동 접속 네트워크는 라디오 스펙트럼을 이용

그 밖의 물리 매체를 살펴보자. 물리 매체는 유도 매체와 비유도 매체로 나눌 수 있다. 
유도 매체는 광섬유 케이블, 꼬임쌍선 혹은 동축케이블 같은 견고한 매체를 따라 파형을 유도한다.
비유도 매체는 무선 랜 혹은 디지털 위성 채널의 경우처럼 대기와 야외 공간으로 파형을 전파한다.

한 종단 시스템에서 다른 종단 시스템으로 비트를 보낼 때, 일련의 송신기-수신기 쌍을 거친다. 각 송신기-수신기 쌍에 대해 이 비트는 물리 매체상에 전자파나 광 펄스를 전파하여 전송한다.
물리 매체는 여러 형태이며 경로상의 각 송신기-수신기 쌍에 대해 같은 유형일 필요는 없다.

---
## 1.3 Network Core
네트워크 엣지를 살펴봤으니 이제 네트워크 코어, 즉 인터넷의 종단 시스템을 연결하는 컴퓨터 네트워크에서의 스위칭(교환)과 라우팅(경로 설정)에 대해 알아보자.
### 1. 패킷 교환
종단 시스템끼리는 메시지를 교환한다. 메시지는 패킷이라는 작은 데이터 덩어리로 분할되어 전송된다. 각 패킷은 통신 링크와 패킷 스위치(라우터, 링크 계층 스위치)를 거치게 된다. 패킷은 링크의 최대 전송률과 같은 속도로 각각의 통신 링크에서 전송된다. 즉, R비트/초의 속도인 링크에서 L비트의 패킷을 송신할 때 걸리는 시간은 L/R초 이다.

패킷은 '저장 후 전달' 방식으로 전달된다. 다시 말해 스위치가 출력 링크로 패킷의 첫 비트를 전송하기 전에 전체 패킷을 받아야 한다.
그럼 출발지에서 패킷을 송신하기 시작해서 전체 패킷을 목적지에서 수신할 때까지 경과 시간을 계산해보자.(전파 지연은 무시함, 단일 링크 하나만 있는 경우임)
- 0초 : 출발지에서 전송되기 시작
- L/R초 : 출발지는 전체 패킷을 전송함, 라우터가 목적지를 향해 그 패킷을 출력 링크로 전송하기 시작
- 2L/R초 : 라우터는 전체 패킷을 전송함, 수신 시스템도 전체 패킷을 수신함

따라서 전체 지연은 2L/R이다. 만약 스위치에 비트가 도착하자마자 전달한다면 비트가 라우터에서 지연되지 않기 때문에 전체 지연은 L/R이 된다. 그러나 1.4절의 문제에 의해 라우터는 전달하기에 앞서 전체 패킷을 수신, 저장, 처리할 필요가 있다.

이제 목적지 노드가 3개의 모든 패킷을 수신할 때까지 경과된 전체 시간을 계산해보자.
- L/R초 : 라우터는 첫 번째 패킷을 전송하기 시작, 출발지도 두 번째 패킷을 전송하기 시작
- 2L/R초 : 목적지는 첫 번째 패킷을 수신함, 라우터도 두 번째 패킷을 수신함
- 3L/R초 : 목적지는 두 번째 패킷을 수신함, 라우터는 세 번째 패킷을 수신함
- 4L/R초 : 목적지는 3개의 모든 패킷을 수신함

즉, N개의 링크로 구성(출발지와 목적지 사이에 N-1개의 라우터가 있음)되고 각각은 전송률이 R인 경로를 통해 하나의 패킷을 전송할 때 종단 간 지연은 `NL/R`과 같다.
그렇다면 연속된 N개의 링크를 통해 송신된 P개 패킷의 지연은 어떻게 될까?

### 2. 회선 교환

### 3. 네트워크의 네트워크


---
## 1.4 Packet-Switched Networks
컴퓨터 네트워크에서 발생할 수 있는 데이터 전송 지연과 손실 원인을 살펴보자.

---
## 1.5 Protocol Layers
프로토콜 계층 구조와 서비스 모델을 소개한다.

---
## 1.6 네트워크 보안
컴퓨터 네트워크는 다양한 유형의 공격에 취약하다. 어떻게 더 안전하게 만들 수 있을가?

---
## 1.7 네트워크의 역사

## 연습문제
