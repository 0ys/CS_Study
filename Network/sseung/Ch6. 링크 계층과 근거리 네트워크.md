# 6장 링크 계층과 근거리 네트워크

## 6.4 스위칭된 근거리 통신망(LAN)

- 그림 6.15는 네 개의 스위치로 세 개의 부서, 두 개의 서버, 그리고 하나의 라우터를 연결한 스위칭된 로컬 네트워크
    - 이러한 스위치들은 링크 계층에서 작동하기 때문에, 네트워크 계층 **`데이터그램`** 대신 링크 계층 **`프레임`**을 스위칭
    - 네트워크 계층 주소를 인식 X, 라우팅 알고리즘 사용 X
- 이 스위치들은 IP 주소를 사용 X, 링크 계층 주소를 사용 → 링크 계층 프레임을 네트워크의 스위치를 통해 전달

---

### 6.4.1 링크 계층 주소 지정과 ARP

- 호스트와 라우터는 링크 계층 주소, 네트워크 계층 주소를 모두 가짐

**`MAC 주소`**

- 사실, 링크 계층 주소를 가지는 것은 호스트와 라우터가 아니라, 그들의 어댑터 (네트워크 인터페이스)
- 여러 네트워크 인터페이스를 가진 호스트나 라우터는 여러 링크 계층 주소를 가지게 되며, 이는 여러 IP 주소를 가지는 것과 같음
- **`but`** 링크 계층 스위치에는 호스트와 라우터에 연결된 인터페이스에 링크 계층 주소가 연결되어 있지 X
    
    → 링크 계층 스위치의 역할이 호스트와 라우터 간에 데이터그램을 전달하는 것이며, 스위치는 이를 투명하게 수행하여 호스트나 라우터가 프레임을 중간의 스위치로 명시적으로 주소 지정할 필요가 없기 때문입니다. 이는 그림 6.16에 설명되어 있습니다. 
    
- **링크 계층 주소 = LAN 주소 = 물리적 주소 = `MAC 주소`**
- 대부분의 LAN(이더넷 및 802.11 무선 LAN 포함)에서 MAC 주소는 6바이트 길이로, 2^48개의 가능한 MAC 주소를 제공합니다. 그림 6.16에 표시된 것처럼 이 6바이트 주소는 일반적으로 16진수 표기법으로 표현되며, 주소의 각 바이트는 두 자리의 16진수로 표현됩니다. MAC 주소는 원래 영구적으로 설계되었으나, 현재는 소프트웨어를 통해 어댑터의 MAC 주소를 변경하는 것이 가능합니다. 하지만 이 섹션에서는 어댑터의 MAC 주소가 고정된 것으로 가정하겠습니다.

**[MAC 주소의 흥미로운 속성]**

- 동일한 주소를 가진 어댑터가 두 개 존재하지 않는다는 점
- 어댑터를 제조하는 서로 다른 회사와 다른 주소를 사용하도록 어떻게 보장?
    
    → IEEE가 MAC 주소 공간을 관리
    
- 회사가 어댑터를 제조하려고 할 때, 명목상의 비용으로 2^24개의 주소로 구성된 주소 공간을 구매합니다. IEEE는 MAC 주소의 처음 24비트를 고정하여 2^24개의 주소 공간을 할당하고, 회사는 각 어댑터에 대해 마지막 24비트의 고유한 조합을 생성합니다.

- 어댑터의 MAC 주소 (like 주민번호)
    - 평면 구조를 가짐
    - 어댑터가 어디로 이동하든 변경 X
    - 이더넷 인터페이스가 있는 노트북, 802.11 인터페이스가 있는 스마트폰도 어디로 가든 항상 동일한 MAC 주소를 가짐
- IP 주소 (like 우편 주소)
    - 계층적 구조(네트워크 + 호스트 부분)를 가짐
    - 호스트가 이동할 때, 즉 연결된 네트워크가 변경될 때 변경해야 함
- 사람이 우편 주소와 주민등록번호를 모두 가지고 있는 것이 유용한 것처럼, 호스트와 라우터 인터페이스도 네트워크 계층 주소와 MAC 주소를 모두 가지는 것이 유용

**`주소 결정 프로토콜 (ARP)`**
**`서브넷 밖으로 데이터그램 전송하기`**

---

### 6.4.2 이더넷 (Ethernet)
**`이더넷 프레임 구조`**
**`이더넷 기술`**

---

### 6.4.3 링크 계층 스위치
**`전달과 필터링`**
**`셀프 러닝(Self-Learning)`**
**`링크 계층 스위칭의 특성`**
**`스위치 vs 라우터`**

---

### 6.4.4 가상 로컬 영역 네트워크 (VLANs)